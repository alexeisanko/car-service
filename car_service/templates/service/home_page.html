{% extends 'base.html' %}
{% load static %}

{% block title %}Главная страница{% endblock title %}

{% block style %}
    <link rel="stylesheet" href="{% static 'css/home-page.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl.theme.default.min.css' %}">
{% endblock style %}

{% block content %}
    <div class="modal modal__login">
        <div class="modal__dialog">
            <button class="modal__close"></button>
            <h3 class="modal__title">Авторизация</h3>
            <form action="{% url "account:login" %}" method="POST" class="form modal__form"
                  novalidate="novalidate">{% csrf_token %}
                <div class="input-group modal__input-group">
                    <input type="text" class="input form__input modal__input input--light"
                           placeholder="Электронная почта" name="email">
                    <span class="error-message"></span>
                </div>
                <div class="input-group modal__input-group">
                    <input type="password" class="input form__input modal__input input--light"
                           placeholder="Введите пароль" name="password">
                    <span class="error-message"></span>
                </div>
                <p class="input-reg">Еще не с нами? <span class="input-reg-link">Зарегистрируйтесь</span></p>
                <button class="button btn--dark btn button--primary modal__button">Войти</button>
            </form>
        </div>
    </div>

    <div class="modal modal__registration">
        <div class="modal__dialog">
            <button class="modal__close"></button>
            <h3 class="modal__title">Регистрация</h3>
            <form action="/account/register/" method="POST" class="form modal__form"
                  novalidate="novalidate">{% csrf_token %}
                <div class="input-group modal__input-group">
                    <input type="text" class="input form__input modal__input input--light"
                           placeholder="Электронная почта" name="email">
                    <span class="error-message"></span>
                </div>
                <div class="input-group modal__input-group">
                    <input type="text" class="input form__input modal__input input--light" placeholder="Ваше имя"
                           name="full_name">
                    <span class="error-message"></span>
                </div>
                <div class="input-group modal__input-group">
                    <input type="text" class="input form__input modal__input input--light mask-number-phone"
                           placeholder="Номер телефона" name="phone">
                    <span class="error-message"></span>
                </div>
                <div class="input-group modal__input-group">
                    <input type="password" class="input form__input modal__input input--light"
                           placeholder="Введите пароль" name="password">
                    <span class="error-message"></span>
                </div>
                <div class="input-group modal__input-group">
                    <input type="password" class="input form__input modal__input input--light"
                           placeholder="Повторите пароль" name="password2">
                    <span class="error-message"></span>
                </div>
                <p class="input-reg">Уже есть аккаунт? <span class="input-login-link">Войти</span></p>
                <button class="button btn--dark btn button--primary modal__button">Зарегистрироваться</button>
            </form>
        </div>

    </div>

    <div class="modal modal__message">
        <div class="modal__dialog">
            <button class="modal__close"></button>
            <h3 class="modal__title">Информация</h3>
            <p class="text-message-modal input-reg"></p>
        </div>
    </div>

    <section class="hero">
        <div class="container">
            <div class="hero__info">
                <h1 class="hero__title title">{{ headers.first_header|default_if_none:"Уход за автомобилем: "}}<span class="blue title">{{ headers.second_header|default_if_none:"быстро и честно"}}</span></h1>
                <p class="hero__text">{{ headers.description|default_if_none:"Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet
                            sint. Velit officia consequat duis enim velit moll. Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet
                            sint. Velit officia consequat duis enim velit moll."}}</p>
                <div class="hero__links">
                    <a href="#entry-scroll">
                        <div class="btn"> Оставить заявку</div>
                    </a>
                    <a href="#step-scroll">
                        <div class="btn btn--dark">Проверить статус</div>
                    </a>
                </div>
            </div>
        </div>
    </section>
    <section class="step" id="step-scroll">
        <div class="container">
            <h3 class="subtitle">Этапы работ</h3>
            <h2 class="title">Как мы работаем?</h2>
            <div class="step__content content">
                <div class="step__stages stages">
                    <div class="stages__step">
                        <div class="step__num">01</div>
                        <div class="step__text">Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet
                            sint. Velit officia consequat duis enim velit mollit.
                        </div>
                    </div>
                    <div class="stages__step">
                        <div class="step__num">02</div>
                        <div class="step__text">Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet
                            sint. Velit officia consequat duis enim velit mollit.
                        </div>
                    </div>
                    <div class="stages__step">
                        <div class="step__num">03</div>
                        <div class="step__text">Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet
                            sint. Velit officia consequat duis enim velit mollit.
                        </div>
                    </div>
                    <div class="stages__step">
                        <div class="step__num">04</div>
                        <div class="step__text">Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet
                            sint. Velit officia consequat duis enim velit mollit.
                        </div>
                    </div>
                </div>
                <div class="step__status status" id="status-scroll">
                    <form action="{% url 'api:check_status' %}" method="GET" class="status__form">
                        <div class="status__title title">Введите номер машины</div>
                        <input type="text" class="status__number mask-number-car" placeholder="х999х11" ,
                               name="registration_number">
                        <input type="submit" value="Проверить статус" class="btn btn--dark status__check">
                    </form>
                </div>
            </div>
        </div>
    </section>
    <section class="cars"></section>
    <section class="advantages" id="advantages-scroll">
        <div class="container">
            <h3 class="subtitle">Преимущества</h3>
            <h2 class="title">Делаем ремонт авто простым и доступным</h2>
            <div class="advantages__benefits">
                <div class="advantages__item">
                    <img src="{% static 'img/advantages/advantages-1.svg' %}" alt="Ремонт" class="advantages__img">
                    <p class="advantages__title block-title">Ремонт в День обращения</p>
                    <p class="advantages__text">Мы готовы принять в ремонт любой автомобиль в день обращения при наличии
                        всех запасных частей и отремонтировать в кратчайшие сроки.</p>
                </div>
                <div class="advantages__item">
                    <img src="{% static 'img/advantages/advantages-2.svg' %}" alt="Ремонт" class="advantages__img">
                    <p class="advantages__title block-title">Ремонт автомобилей всех марок</p>
                    <p class="advantages__text">Мы починим автомобиль любой марки, включая и негабаритные автомобили,
                        такие как лимузины, автобусы и микроавтобусы.</p>
                </div>
                <div class="advantages__item">
                    <img src="{% static 'img/advantages/advantages-3.svg' %}" alt="Мастера" class="advantages__img">
                    <p class="advantages__title block-title">Высокая квалификация мастеров</p>
                    <p class="advantages__text">Ваш автомобиль будет в руках профессионалов, опыт которых не менее 5
                        лет</p>
                </div>
                <div class="advantages__item">
                    <img src="{% static 'img/advantages/advantages-4.svg' %}" alt="Оборудование"
                         class="advantages__img">
                    <p class="advantages__title block-title">Оборудование нового поколения</p>
                    <p class="advantages__text">Мы используем новейшее оборудование, прошедшее проверку качества</p>
                </div>
            </div>
        </div>
    </section>
    {% if custom_services_id %}
    <section class="services" id="list-services-scroll">
        <div class="container">
            <h3 class="subtitle">Предоставляемые услуги</h3>
            <h2 class="title">Быстрый старт вашему автомобилю</h2>
            <div class="services__content">
                <div class="services__info">
                    <p id="title_service" class="block-title"></p>
                    <div class="services__desc"></div>
                    <div class="services__price">
                        <span class="services__cost"></span>
                        <a href="#entry-scroll">
                            <div class="btn btn--dark">Записаться</div>
                        </a>
                    </div>
                </div>
                <div class="services__service">
                    {% for service_id in custom_services_id %}
                        <div id="custom_service_id{{ service_id.id }}" class="services__icon"><img
                                src="{% static 'img/services/icon.svg' %}" alt="icon"></div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
    {% endif %}
    {% if team %}
    <section class="team" id="team-scroll">
        <div class="container">
            <h3 class="subtitle">Наша команда</h3>
            <h2 class="title">Мы починим!</h2>
            <div class="team__slider owl-carousel owl-carousel-1 owl-theme">
                {% for worker in team %}
                    {% if forloop.counter == 1 or forloop.counter == 3 or forloop.counter == 5 or forloop.counter == 7 or forloop.counter == 9 %}
                        <div class="team__slide slide">
                            <img src="{{ worker.photo.url }}" alt="" class="slide__img">
                            <p class="slide__title block-title">{{ worker.name }}</p>
                            <p class="slide__text">{{ worker.description }}</p>
                        </div>
                    {% else %}
                        <div class="team__slide slide slide--dark">
                            <img src="{{ worker.photo.url }}" alt="" class="slide__img">
                            <p class="slide__title block-title">{{ worker.name }}</p>
                            <p class="slide__text">{{ worker.description }}</p>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}
    <section class="entry" id="entry-scroll">
        <div class="container">
            <h3 class="subtitle">Запись в автосервис</h3>
            <h2 class="title">Сломалась машина? Приходите к нам!</h2>
            <div class="entry__content">
                <div class="entry__calendar calendar">
                    <div class="calendar__select">

                        <div style="display: flex; flex-direction: column; justify-content: center; align-items: flex-start">
                            {% if lifts_for_minibus and type_service_minibus %}
                                <div style="margin-right: 40px">
                                    <h2 style="margin-bottom: 15px; text-align: center; font-size: 18px">Тип
                                        автомобиля</h2>
                                    <label class="form-switch">
                                        <input id="checked-type-car" type="checkbox">
                                        <i></i> <span id="select-type-car">Легковой</span></label>
                                </div>
                            {% endif %}
                            <div>
                                <input id="select-service" list="service-car" placeholder="Выберите услугу"
                                       style="margin-top: 12px">
                                <span class="error-message"></span>
                                <datalist id="service-car">
                                    {% for type in type_service_car %}
                                        <option value="{{ type.name }}">{{ type.name }}</option>
                                    {% endfor %}
                                </datalist>
                                <datalist id="service-minibus">
                                    {% for type in type_service_minibus %}
                                        <option value="{{ type.name }}">{{ type.name }}</option>
                                    {% endfor %}
                                </datalist>
                            </div>
                        </div>
                        <div id="calendar" style="width: 500px; margin-top: 15px"></div>
                    </div>
                    <div class="calendar__form">
                        <p class="block-title">Onko autosi sairas? Ryhdytään hommiin</p>
                        <form action="{% url 'api:make_recording' %}" method="POST">
                            <input id="name" type="text" placeholder="Введите ФИО">
                            <span class="error-message"></span>
                            <input id="phone" class="mask-number-phone" type="text"
                                   placeholder="Введите номер телефона">
                            <span class="error-message"></span>
                            <input id="email" type="text" placeholder="Введите Email">
                            <span class="error-message"></span>
                            <input id="model" type="text" placeholder="Введите модель машины">
                            <span class="error-message"></span>
                            <input id="number" class="mask-number-car" type="text" placeholder="Введите номер машины">
                            <span class="error-message"></span>
                            <textarea id="comment" cols="40" rows="10" placeholder="Оставьте комментарий"></textarea>
                            <span class="error-message"></span>
                            <input id="start-time" type="hidden">
                            <input id="end-time" type="hidden">
                            {% csrf_token %}
                            <input id="make-record" type="submit" class="btn btn--dark" value="Записаться">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% if reviews %}
    <section class="rewievs" id="rewievs-scroll">
        <div class="container">
            <h3 class="subtitle">Отзывы</h3>
            <h2 class="title">Клиенты говорят</h2>
            <!-- <img src="assets/img/rewievs/tires.png" alt="tires" class="rewievs__img"> -->
            <div class="rewievs__content owl-theme owl-carousel owl-carousel-2">
                {% for review in reviews %}
                    {% if forloop.counter == 1 or forloop.counter == 3 or forloop.counter == 5 or forloop.counter == 7 or forloop.counter == 9 %}
                        <div class="rewievs__slide slide slide--dark">
                            <img src="{% static 'img/rewievs/tires.png' %}" alt="tires" class="rewievs__img_1">
                            <div class="slide__people">
                                <img src="{{ review.photo.url }}" alt="people" class="slide__img">
                                <div class="slide__info">
                                    <p class="slide__name">{{ review.name }}</p>
                                    <span class="slide__service">{{ review.type_service }}</span>
                                </div>
                            </div>
                            <div class="slide__text">{{ review.description }}</div>
                        </div>
                    {% else %}
                        <div class="rewievs__slide slide">
                            <img src="{% static 'img/rewievs/tires.png' %}" alt="tires" class="rewievs__img_1">
                            <div class="slide__people">
                                <img src="{{ review.photo.url }}" alt="people" class="slide__img">
                                <div class="slide__info">
                                    <p class="slide__name">{{ review.name }}</p>
                                    <span class="slide__service">{{ review.type_service }}</span>
                                </div>
                            </div>
                            <div class="slide__text">{{ review.description }}</div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>

        </div>
    </section>
    {% endif %}
    <section class="place">
        <div class="container">
            <div class="place__info">
                <div class="place__item">
                    <img src="{% static 'img/place/time.svg' %}" alt="time">
                    <span>08:00 - 20:00</span>
                </div>
                <div class="place__item">
                    <img src="{% static 'img/place/place.svg' %}" alt="place">
                    <span>Nuolitie 2 a12 , 01740 vantaa</span>
                </div>
            </div>
            <div class="place__card">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1976.8346373590214!2d24.900883677436564!3d60.299263233007835!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x468df828d53383ff%3A0x48301afb28595770!2zTnVvbGl0aWUgMiwgMDE3NDAgVmFudGFhLCDQpNC40L3Qu9GP0L3QtNC40Y8!5e0!3m2!1sru!2sru!4v1681368241119!5m2!1sru!2sru"
                        width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </section>
    <footer class="footer">
        <div class="container">
            <div class="footer__info">
                <div class="footer__phone">
                    <a href="tel:89999999999" class="footer__number">8 (999) 999 99 99</a>
                    <img src="{% static 'img/footer/phone.svg' %}" alt="phone">
                </div>
                <div class="footer__social">
                    <a href="#"><img src="{% static 'img/footer/vk.svg' %}" alt="vk"></a>
                    <a href="#"><img src="{% static 'img/footer/insta.svg' %}" alt="insta"></a>
                    <a href="#"><img src="{% static 'img/footer/facebook.svg' %}" alt="facebook"></a>
                </div>
                <div class="footer__mail">
                    <img src="{% static 'img/footer/mail.svg' %}" alt="mail">
                    <a href="mailto:example@example.com" class="footer__mail">example@example.com</a>
                </div>
            </div>
        </div>
    </footer>
{% endblock content %}

{% block script %}
    <script src="{% static 'js/account/user_page.js' %}"></script>
    <script src="{% static 'js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'js/home_page.js' %}"></script>
    <script src="{% static 'js/home_page_api.js' %}"></script>
    <script src="{% static 'js/calendar_client.js' %}"></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.4/index.global.min.js'></script>
{% endblock script %}
